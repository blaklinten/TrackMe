#!/bin/bash

# Show status of a running timer

# Validate that the really is a timer running
# and exit if not.
if [[ ! -f $ACTIVE ]]; then
    echo "No active timer running!" | dmenu
    exit
fi

# Fetch name of activity,
ACTIVITY=$(tail -n 3 $ACTIVE | head -n 1 )
# project, 
PROJECT=$(tail -n 3 $ACTIVE | head -n 2 | tail -n 1)
# start and
START=$(tail -n 1 $ACTIVE)
# end times of running timer from
# temporary file.
END=$(date +%s)

# Print information for user to read.
echo -e "Timer running for $ACTIVITY on $PROJECT\nStarted at $(date --date="@$START")\nRunning for $($WD/.calculateTime $START $END)." | dmenu
