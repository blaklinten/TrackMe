#!/bin/bash

#########################################################
# This is a script that helps me keep track of my time. #
#########################################################

# Clear screen 
clear

# Check if env is ok,
# if not, fix it!
source configure

# Real time loop.
case $1 in
    "start")
        # Check if there is running timer and if so
        # inform and exist.
        if [[ -f $ACTIVE ]]; then
            echo "A timer is already running, exiting..."
            exit
        fi

        # Show different chioces 
        cat $WD/.choices
        # Choose project to start
        $WD/.chooseProject $WD/.startActivity
        ;;
    "sum")
        # Show different chioces 
        cat $WD/.summingChoices
        # Choose project to sum
        $WD/.chooseProject $WD/.summarize
        ;;
    "stop")
        $WD/.stopActivity
        ;;
    "status")
        $WD/.timerStatus
        ;;
    *)
        cat $WD/.man
        ;;
esac
