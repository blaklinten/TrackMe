#!/bin/bash

if [[ -f $ACTIVE ]]; then
    echo "A timer is already running, exiting..."
    exit
fi

clear
cat $WD/.choices
ls $PROJECTS
read choice
case $choice in
    "q")
        exit
        ;;
    "n")
        $WD/.createProject
        ;;
    *)
        for project in $(ls $PROJECTS); do
            if [[ $project == $choice ]]; then
                break
            fi
            echo "Project \"$choice\" does not exist, try again or create it (n)."
            sleep 2s
            $WD/.chooseProject
            exit
        done
        $WD/.startActivity $choice
        ;;
esac
